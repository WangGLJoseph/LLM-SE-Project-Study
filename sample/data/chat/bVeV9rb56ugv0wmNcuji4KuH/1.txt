TEST_CASE("PkbWriterManager adds statements and variables correctly", "[PkbWriterManager]") {

    auto stmtManager = std::make_shared<StatementManager>();
    auto varManager = std::make_shared<VariableManager>();

    PkbWriterManager writer(stmtManager, varManager);

    // Test adding a statement
    TNode testNode = TNode(TNode::NodeType::STATEMENT_LIST, "testValue", 1);
    auto node = std::make_shared<TNode>(testNode);
    writer.addStatement(EnumType::StatementType::PRINT, 1, node);

    std::map<int, std::shared_ptr<TNode>> stmtMap = stmtManager->getStatement(EnumType::StatementType::PRINT);
    REQUIRE(stmtMap[1] == node); // Checks if the memory locations are equal

    // Test adding a variable
    std::string varName = "TestVariable";
    writer.addVariable(1, varName);

    std::map<int, std::string> varMap = varManager->getAllVariables();
    REQUIRE(varMap[1] == varName);
}
